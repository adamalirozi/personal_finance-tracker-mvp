{"ast":null,"code":"var _jsxFileName = \"/home/student25/personal_finance-tracker-mvp/frontend/src/components/Login.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { authAPI } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Login({\n  onLoginSuccess\n}) {\n  _s();\n  const [isLogin, setIsLogin] = useState(true);\n  const [formData, setFormData] = useState({\n    username: '',\n    email: '',\n    password: ''\n  });\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setError('');\n    setLoading(true);\n    try {\n      if (isLogin) {\n        const response = await authAPI.login({\n          username: formData.username,\n          password: formData.password\n        });\n        console.log('Login response:', response.data);\n\n        // Store token and user\n        localStorage.setItem('token', response.data.access_token);\n        localStorage.setItem('user', JSON.stringify(response.data.user));\n\n        // Verify token was stored\n        const storedToken = localStorage.getItem('token');\n        console.log('Token stored:', storedToken ? 'Yes' : 'No');\n        onLoginSuccess(response.data.user);\n      } else {\n        await authAPI.register(formData);\n        alert('Registration successful! Please login.');\n        setIsLogin(true);\n        setFormData({\n          username: '',\n          email: '',\n          password: ''\n        });\n      }\n    } catch (err) {\n      var _err$response, _err$response$data;\n      console.error('Auth error:', err);\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || 'An error occurred');\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.container,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.card,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: isLogin ? 'Login' : 'Register'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Username\",\n          value: formData.username,\n          onChange: e => setFormData({\n            ...formData,\n            username: e.target.value\n          }),\n          style: styles.input,\n          required: true,\n          disabled: loading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), !isLogin && /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          placeholder: \"Email\",\n          value: formData.email,\n          onChange: e => setFormData({\n            ...formData,\n            email: e.target.value\n          }),\n          style: styles.input,\n          required: true,\n          disabled: loading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          placeholder: \"Password\",\n          value: formData.password,\n          onChange: e => setFormData({\n            ...formData,\n            password: e.target.value\n          }),\n          style: styles.input,\n          required: true,\n          disabled: loading\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n          style: styles.error,\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          style: styles.button,\n          disabled: loading,\n          children: loading ? 'Please wait...' : isLogin ? 'Login' : 'Register'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: styles.toggle,\n        children: [isLogin ? \"Don't have an account? \" : 'Already have an account? ', /*#__PURE__*/_jsxDEV(\"span\", {\n          onClick: () => !loading && setIsLogin(!isLogin),\n          style: styles.link,\n          children: isLogin ? 'Register' : 'Login'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n}\n_s(Login, \"IMBuL49Do8Uk7vQpMKPmppPmjQU=\");\n_c = Login;\nconst styles = {\n  container: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    minHeight: '100vh',\n    backgroundColor: '#f5f5f5'\n  },\n  card: {\n    backgroundColor: 'white',\n    padding: '2rem',\n    borderRadius: '8px',\n    boxShadow: '0 2px 10px rgba(0,0,0,0.1)',\n    width: '100%',\n    maxWidth: '400px'\n  },\n  input: {\n    width: '100%',\n    padding: '0.75rem',\n    marginBottom: '1rem',\n    border: '1px solid #ddd',\n    borderRadius: '4px',\n    fontSize: '1rem',\n    boxSizing: 'border-box'\n  },\n  button: {\n    width: '100%',\n    padding: '0.75rem',\n    backgroundColor: '#007bff',\n    color: 'white',\n    border: 'none',\n    borderRadius: '4px',\n    fontSize: '1rem',\n    cursor: 'pointer'\n  },\n  error: {\n    color: 'red',\n    marginBottom: '1rem'\n  },\n  toggle: {\n    marginTop: '1rem',\n    textAlign: 'center'\n  },\n  link: {\n    color: '#007bff',\n    cursor: 'pointer',\n    textDecoration: 'underline'\n  }\n};\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","authAPI","jsxDEV","_jsxDEV","Login","onLoginSuccess","_s","isLogin","setIsLogin","formData","setFormData","username","email","password","error","setError","loading","setLoading","handleSubmit","e","preventDefault","response","login","console","log","data","localStorage","setItem","access_token","JSON","stringify","user","storedToken","getItem","register","alert","err","_err$response","_err$response$data","style","styles","container","children","card","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","placeholder","value","onChange","target","input","required","disabled","button","toggle","onClick","link","_c","display","justifyContent","alignItems","minHeight","backgroundColor","padding","borderRadius","boxShadow","width","maxWidth","marginBottom","border","fontSize","boxSizing","color","cursor","marginTop","textAlign","textDecoration","$RefreshReg$"],"sources":["/home/student25/personal_finance-tracker-mvp/frontend/src/components/Login.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { authAPI } from '../services/api';\n\nfunction Login({ onLoginSuccess }) {\n  const [isLogin, setIsLogin] = useState(true);\n  const [formData, setFormData] = useState({\n    username: '',\n    email: '',\n    password: '',\n  });\n  const [error, setError] = useState('');\n  const [loading, setLoading] = useState(false);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError('');\n    setLoading(true);\n\n    try {\n      if (isLogin) {\n        const response = await authAPI.login({\n          username: formData.username,\n          password: formData.password,\n        });\n        \n        console.log('Login response:', response.data);\n        \n        // Store token and user\n        localStorage.setItem('token', response.data.access_token);\n        localStorage.setItem('user', JSON.stringify(response.data.user));\n        \n        // Verify token was stored\n        const storedToken = localStorage.getItem('token');\n        console.log('Token stored:', storedToken ? 'Yes' : 'No');\n        \n        onLoginSuccess(response.data.user);\n      } else {\n        await authAPI.register(formData);\n        alert('Registration successful! Please login.');\n        setIsLogin(true);\n        setFormData({ username: '', email: '', password: '' });\n      }\n    } catch (err) {\n      console.error('Auth error:', err);\n      setError(err.response?.data?.error || 'An error occurred');\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div style={styles.container}>\n      <div style={styles.card}>\n        <h2>{isLogin ? 'Login' : 'Register'}</h2>\n        <form onSubmit={handleSubmit}>\n          <input\n            type=\"text\"\n            placeholder=\"Username\"\n            value={formData.username}\n            onChange={(e) => setFormData({ ...formData, username: e.target.value })}\n            style={styles.input}\n            required\n            disabled={loading}\n          />\n          {!isLogin && (\n            <input\n              type=\"email\"\n              placeholder=\"Email\"\n              value={formData.email}\n              onChange={(e) => setFormData({ ...formData, email: e.target.value })}\n              style={styles.input}\n              required\n              disabled={loading}\n            />\n          )}\n          <input\n            type=\"password\"\n            placeholder=\"Password\"\n            value={formData.password}\n            onChange={(e) => setFormData({ ...formData, password: e.target.value })}\n            style={styles.input}\n            required\n            disabled={loading}\n          />\n          {error && <p style={styles.error}>{error}</p>}\n          <button type=\"submit\" style={styles.button} disabled={loading}>\n            {loading ? 'Please wait...' : (isLogin ? 'Login' : 'Register')}\n          </button>\n        </form>\n        <p style={styles.toggle}>\n          {isLogin ? \"Don't have an account? \" : 'Already have an account? '}\n          <span onClick={() => !loading && setIsLogin(!isLogin)} style={styles.link}>\n            {isLogin ? 'Register' : 'Login'}\n          </span>\n        </p>\n      </div>\n    </div>\n  );\n}\n\nconst styles = {\n  container: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    minHeight: '100vh',\n    backgroundColor: '#f5f5f5',\n  },\n  card: {\n    backgroundColor: 'white',\n    padding: '2rem',\n    borderRadius: '8px',\n    boxShadow: '0 2px 10px rgba(0,0,0,0.1)',\n    width: '100%',\n    maxWidth: '400px',\n  },\n  input: {\n    width: '100%',\n    padding: '0.75rem',\n    marginBottom: '1rem',\n    border: '1px solid #ddd',\n    borderRadius: '4px',\n    fontSize: '1rem',\n    boxSizing: 'border-box',\n  },\n  button: {\n    width: '100%',\n    padding: '0.75rem',\n    backgroundColor: '#007bff',\n    color: 'white',\n    border: 'none',\n    borderRadius: '4px',\n    fontSize: '1rem',\n    cursor: 'pointer',\n  },\n  error: {\n    color: 'red',\n    marginBottom: '1rem',\n  },\n  toggle: {\n    marginTop: '1rem',\n    textAlign: 'center',\n  },\n  link: {\n    color: '#007bff',\n    cursor: 'pointer',\n    textDecoration: 'underline',\n  },\n};\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}