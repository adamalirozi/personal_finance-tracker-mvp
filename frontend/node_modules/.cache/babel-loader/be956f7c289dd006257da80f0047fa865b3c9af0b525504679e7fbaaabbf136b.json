{"ast":null,"code":"var _jsxFileName = \"/home/student25/personal_finance-tracker-mvp/frontend/src/components/Login.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport { authAPI } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Login({\n  onLoginSuccess\n}) {\n  _s();\n  const [isLogin, setIsLogin] = useState(true);\n  const [formData, setFormData] = useState({\n    username: '',\n    email: '',\n    password: ''\n  });\n  const [error, setError] = useState('');\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setError('');\n    try {\n      if (isLogin) {\n        const response = await authAPI.login({\n          username: formData.username,\n          password: formData.password\n        });\n        localStorage.setItem('token', response.data.access_token);\n        localStorage.setItem('user', JSON.stringify(response.data.user));\n        onLoginSuccess(response.data.user);\n      } else {\n        await authAPI.register(formData);\n        alert('Registration successful! Please login.');\n        setIsLogin(true);\n      }\n    } catch (err) {\n      var _err$response, _err$response$data;\n      setError(((_err$response = err.response) === null || _err$response === void 0 ? void 0 : (_err$response$data = _err$response.data) === null || _err$response$data === void 0 ? void 0 : _err$response$data.error) || 'An error occurred');\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: styles.container,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: styles.card,\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: isLogin ? 'Login' : 'Register'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"Username\",\n          value: formData.username,\n          onChange: e => setFormData({\n            ...formData,\n            username: e.target.value\n          }),\n          style: styles.input,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 41,\n          columnNumber: 11\n        }, this), !isLogin && /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          placeholder: \"Email\",\n          value: formData.email,\n          onChange: e => setFormData({\n            ...formData,\n            email: e.target.value\n          }),\n          style: styles.input,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          placeholder: \"Password\",\n          value: formData.password,\n          onChange: e => setFormData({\n            ...formData,\n            password: e.target.value\n          }),\n          style: styles.input,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 11\n        }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n          style: styles.error,\n          children: error\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          style: styles.button,\n          children: isLogin ? 'Login' : 'Register'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 40,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: styles.toggle,\n        children: [isLogin ? \"Don't have an account? \" : 'Already have an account? ', /*#__PURE__*/_jsxDEV(\"span\", {\n          onClick: () => setIsLogin(!isLogin),\n          style: styles.link,\n          children: isLogin ? 'Register' : 'Login'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 37,\n    columnNumber: 5\n  }, this);\n}\n_s(Login, \"Cm4B63BT21tBFBR7nv/8UknbXNg=\");\n_c = Login;\nconst styles = {\n  container: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    minHeight: '100vh',\n    backgroundColor: '#f5f5f5'\n  },\n  card: {\n    backgroundColor: 'white',\n    padding: '2rem',\n    borderRadius: '8px',\n    boxShadow: '0 2px 10px rgba(0,0,0,0.1)',\n    width: '100%',\n    maxWidth: '400px'\n  },\n  input: {\n    width: '100%',\n    padding: '0.75rem',\n    marginBottom: '1rem',\n    border: '1px solid #ddd',\n    borderRadius: '4px',\n    fontSize: '1rem',\n    boxSizing: 'border-box'\n  },\n  button: {\n    width: '100%',\n    padding: '0.75rem',\n    backgroundColor: '#007bff',\n    color: 'white',\n    border: 'none',\n    borderRadius: '4px',\n    fontSize: '1rem',\n    cursor: 'pointer'\n  },\n  error: {\n    color: 'red',\n    marginBottom: '1rem'\n  },\n  toggle: {\n    marginTop: '1rem',\n    textAlign: 'center'\n  },\n  link: {\n    color: '#007bff',\n    cursor: 'pointer',\n    textDecoration: 'underline'\n  }\n};\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useState","authAPI","jsxDEV","_jsxDEV","Login","onLoginSuccess","_s","isLogin","setIsLogin","formData","setFormData","username","email","password","error","setError","handleSubmit","e","preventDefault","response","login","localStorage","setItem","data","access_token","JSON","stringify","user","register","alert","err","_err$response","_err$response$data","style","styles","container","children","card","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","placeholder","value","onChange","target","input","required","button","toggle","onClick","link","_c","display","justifyContent","alignItems","minHeight","backgroundColor","padding","borderRadius","boxShadow","width","maxWidth","marginBottom","border","fontSize","boxSizing","color","cursor","marginTop","textAlign","textDecoration","$RefreshReg$"],"sources":["/home/student25/personal_finance-tracker-mvp/frontend/src/components/Login.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport { authAPI } from '../services/api';\n\nfunction Login({ onLoginSuccess }) {\n  const [isLogin, setIsLogin] = useState(true);\n  const [formData, setFormData] = useState({\n    username: '',\n    email: '',\n    password: '',\n  });\n  const [error, setError] = useState('');\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setError('');\n\n    try {\n      if (isLogin) {\n        const response = await authAPI.login({\n          username: formData.username,\n          password: formData.password,\n        });\n        localStorage.setItem('token', response.data.access_token);\n        localStorage.setItem('user', JSON.stringify(response.data.user));\n        onLoginSuccess(response.data.user);\n      } else {\n        await authAPI.register(formData);\n        alert('Registration successful! Please login.');\n        setIsLogin(true);\n      }\n    } catch (err) {\n      setError(err.response?.data?.error || 'An error occurred');\n    }\n  };\n\n  return (\n    <div style={styles.container}>\n      <div style={styles.card}>\n        <h2>{isLogin ? 'Login' : 'Register'}</h2>\n        <form onSubmit={handleSubmit}>\n          <input\n            type=\"text\"\n            placeholder=\"Username\"\n            value={formData.username}\n            onChange={(e) => setFormData({ ...formData, username: e.target.value })}\n            style={styles.input}\n            required\n          />\n          {!isLogin && (\n            <input\n              type=\"email\"\n              placeholder=\"Email\"\n              value={formData.email}\n              onChange={(e) => setFormData({ ...formData, email: e.target.value })}\n              style={styles.input}\n              required\n            />\n          )}\n          <input\n            type=\"password\"\n            placeholder=\"Password\"\n            value={formData.password}\n            onChange={(e) => setFormData({ ...formData, password: e.target.value })}\n            style={styles.input}\n            required\n          />\n          {error && <p style={styles.error}>{error}</p>}\n          <button type=\"submit\" style={styles.button}>\n            {isLogin ? 'Login' : 'Register'}\n          </button>\n        </form>\n        <p style={styles.toggle}>\n          {isLogin ? \"Don't have an account? \" : 'Already have an account? '}\n          <span onClick={() => setIsLogin(!isLogin)} style={styles.link}>\n            {isLogin ? 'Register' : 'Login'}\n          </span>\n        </p>\n      </div>\n    </div>\n  );\n}\n\nconst styles = {\n  container: {\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    minHeight: '100vh',\n    backgroundColor: '#f5f5f5',\n  },\n  card: {\n    backgroundColor: 'white',\n    padding: '2rem',\n    borderRadius: '8px',\n    boxShadow: '0 2px 10px rgba(0,0,0,0.1)',\n    width: '100%',\n    maxWidth: '400px',\n  },\n  input: {\n    width: '100%',\n    padding: '0.75rem',\n    marginBottom: '1rem',\n    border: '1px solid #ddd',\n    borderRadius: '4px',\n    fontSize: '1rem',\n    boxSizing: 'border-box',\n  },\n  button: {\n    width: '100%',\n    padding: '0.75rem',\n    backgroundColor: '#007bff',\n    color: 'white',\n    border: 'none',\n    borderRadius: '4px',\n    fontSize: '1rem',\n    cursor: 'pointer',\n  },\n  error: {\n    color: 'red',\n    marginBottom: '1rem',\n  },\n  toggle: {\n    marginTop: '1rem',\n    textAlign: 'center',\n  },\n  link: {\n    color: '#007bff',\n    cursor: 'pointer',\n    textDecoration: 'underline',\n  },\n};\n\nexport default Login;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}